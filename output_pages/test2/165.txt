자신만의 할당자를 만들어라
동적 저장소 디버깅이 복잡하고 시간이 많이 걸린다는 것은 모두가 아는 사실이다.
각 클래스에서 저장소를 낭비하지 않는다는 사실을 일일이 확인하는 것보다는 큰
저장소의 공간을 할당해주는 자신만의 저장소 할당자를 만드는 것이 바람직하다.
저장소를 직접 해제하는 것보다는 주기적으로 시스템을 리셋해서 힙을 정리하게
만들어야 한다. 리셋을 이용하면 시스템에서 처리해야 할 일(모든 저장소 누수를
확인하지 않아도 되므로)이 크게 줄어든다. 따라서 사용자가 시스템을 주기적으로
리셋하는 것을 까먹지 않는 한 힙 메모리 공간을 모두 사용하는 일이 없다. 프로그
램을 배포한 다음에 이와 같은 동작을 바꾸려고 낑낑대는 이들의 모습이 떠오르지
않는가?