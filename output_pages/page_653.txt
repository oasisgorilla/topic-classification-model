652
Chapter 6
The Memory Hierarchy
Figure 6.25
General organization
of cache (S, E, B, m).
(a) A cache is an array
of sets. Each set contains
one or more lines. Each
line contains a valid bit,
some tag bits, and a block
of data. (b) The cache
organization induces a
partition of the m address
bits into t tag bits, s set
index bits, and b block
offset bits.
Valid
Tag
0
1
B–1
. . .
. . .
Valid
Tag
0
1
B–1
. . .
Set 0:
Valid
Tag
0
1
B–1
. . .
. . .
Valid
Tag
0
1
B–1
. . .
Set 1:
Valid
Tag
Cache size:   C = B × E × S data bytes
0
1
B–1
. . .
. . .
. . .
Valid
Tag
0
1
B–1
. . .
Set S–1:
1 valid bit
per line
t tag bits
per line
B = 2b bytes
per cache block
S = 2s sets
E lines per set
(a)
m–1
0
t bits
Address:
Tag
Set index Block offset
s bits
(b)
b bits
the array of S sets. The ﬁrst set is set 0, the second set is set 1, and so on. When
interpreted as an unsigned integer, the set index bits tell us which set the word
must be stored in. Once we know which set the word must be contained in, the t
tag bits in A tell us which line (if any) in the set contains the word. A line in the
set contains the word if and only if the valid bit is set and the tag bits in the line
match the tag bits in the address A. Once we have located the line identiﬁed by
the tag in the set identiﬁed by the set index, then the b block offset bits give us the
offset of the word in the B-byte data block.
As you may have noticed, descriptions of caches use a lot of symbols. Fig-
ure 6.26 summarizes these symbols for your reference.
Practice Problem 6.9 (solution page 699)
The following table gives the parameters for a number of different caches. For
each cache, determine the number of cache sets (S), tag bits (t), set index bits (s),
and block offset bits (b).
Cache
m
C
B
E
S
t
s
b
1.
32
1,024
4
1
2.
32
1,024
8
4
3.
32
1,024
32
32
