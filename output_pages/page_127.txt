126
Chapter 2
Representing and Manipulating Information
x
-u
4 x
Hex
Decimal
Decimal
Hex
1
4
7
A
E
2.3.2
Two’s-Complement Addition
With two’s-complement addition, we must decide what to do when the result is
either too large (positive) or too small (negative) to represent. Given integer
values x and y in the range −2w−1 ≤x, y ≤2w−1 −1, their sum is in the range
−2w ≤x + y ≤2w −2, potentially requiring w + 1 bits to represent exactly. As
before, we avoid ever-expanding data sizes by truncating the representation to w
bits. The result is not as familiar mathematically as modular addition, however.
Let us deﬁne x +t
w y to be the result of truncating the integer sum x + y to be w
bits long and then viewing the result as a two’s-complement number.
principle: Two’s-complement addition
For integer values x and y in the range −2w−1 ≤x, y ≤2w−1 −1:
x +t
w y =
⎧
⎪
⎨
⎪
⎩
x + y −2w,
2w−1 ≤x + y
Positive overﬂow
x + y,
−2w−1 ≤x + y < 2w−1
Normal
x + y + 2w,
x + y < −2w−1
Negative overﬂow
(2.13)
This principle is illustrated in Figure 2.24, where the sum x + y is shown on the
left, having a value in the range −2w ≤x + y ≤2w −2, and the result of truncating
the sum to a w-bit two’s-complement number is shown on the right. (The labels
“Case 1” to “Case 4” in this ﬁgure are for the case analysis of the formal derivation
of the principle.) When the sum x + y exceeds TMaxw (case 4), we say that positive
overﬂow has occurred. In this case, the effect of truncation is to subtract 2w from
the sum. When the sum x + y is less than TMinw (case 1), we say that negative
overﬂow has occurred. In this case, the effect of truncation is to add 2w to the sum.
The w-bit two’s-complement sum of two numbers has the exact same bit-level
representation as the unsigned sum. In fact, most computers use the same machine
instruction to perform either unsigned or signed addition.
derivation: Two’s-complement addition
Since two’s-complement addition has the exact same bit-level representation as
unsigned addition, we can characterize the operation +t
w as one of converting its
arguments to unsigned, performing unsigned addition, and then converting back
to two’s complement:
